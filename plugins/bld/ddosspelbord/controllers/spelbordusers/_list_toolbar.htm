<!--
  ~ Copyright (C) 2024 Anti-DDoS Coalitie Netherlands (ADC-NL)
  ~
  ~ This file is part of the DDoS gameboard.
  ~
  ~ DDoS gameboard is free software; you can redistribute it and/or modify
  ~ it under the terms of the GNU General Public License as published by
  ~ the Free Software Foundation; either version 3 of the License, or
  ~ (at your option) any later version.
  ~
  ~ DDoS gameboard is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~ GNU General Public License for more details.
  ~
  ~ You should have received a copy of the GNU General Public License
  ~ along with this program; If not, see @link https://www.gnu.org/licenses/.
  ~
  -->

<div data-control="toolbar">
    <a href="<?= Backend::url('bld/ddosspelbord/spelbordusers/create') ?>" class="btn btn-primary oc-icon-plus"><?= e(trans('backend::lang.form.create')) ?></a>

    <div class="btn-group dropdown dropdown-fixed" data-control="bulk-actions">
        <button
            data-primary-button
            type="button"
            class="btn btn-default"
            data-request="onBulkAction"
            data-trigger-action="enable"
            data-trigger=".control-list input[type=checkbox]"
            data-trigger-condition="checked"
            data-request-success="$(this).prop('disabled', true).next().prop('disabled', true)"
            data-stripe-load-indicator>
            <?= e(trans('winter.user::lang.users.bulk_actions')) ?>
        </button>
        <button
            type="button"
            class="btn btn-default dropdown-toggle"
            data-trigger-action="enable"
            data-trigger=".control-list input[type=checkbox]"
            data-trigger-condition="checked"
            data-toggle="dropdown">
            <span class="caret"></span>
        </button>

        <ul class="dropdown-menu" data-dropdown-title="<?= e(trans('winter.user::lang.users.bulk_actions')) ?>">
            <li>
                <a href="javascript:;" class="oc-icon-trash-o" data-action="delete" data-confirm="<?= e(trans('winter.user::lang.users.delete_selected_confirm')) ?>">
                    <?= e(trans('winter.user::lang.users.delete_selected')) ?>
                </a>
            </li>
            <li role="separator" class="divider"></li>
            <li>
                <a href="javascript:;" class="oc-icon-user-plus" data-action="activate" data-confirm="<?= e(trans('winter.user::lang.users.activate_selected_confirm')) ?>">
                    <?= e(trans('winter.user::lang.users.activate_selected')) ?>
                </a>
            </li>
            <li role="separator" class="divider"></li>
            <li>
                <a href="javascript:;" class="oc-icon-user-times" data-action="deactivate" data-confirm="<?= e(trans('winter.user::lang.users.deactivate_selected_confirm')) ?>">
                    <?= e(trans('winter.user::lang.users.deactivate_selected')) ?>
                </a>
            </li>
        </ul>
    </div>

    <button
        class="btn btn-default oc-icon-mail-forward"
        disabled="disabled"
        onclick="$(this).data('request-data', {
            checked: $('.control-list').listWidget('getChecked')
        })"
        data-request="onSendreset"
        data-request-confirm="<?= e(trans('bld.ddosspelbord::lang.sendpasswordresetmail_conformation')) ?>"
        data-trigger-action="enable"
        data-trigger=".control-list input[type=checkbox]"
        data-trigger-condition="checked"
        data-request-success="$(this).prop('disabled', true)"
        data-stripe-load-indicator>
        <?= e(trans('bld.ddosspelbord::lang.sendpasswordresetmail')) ?>
    </button>

    <a href="<?= Backend::url('bld/ddosspelbord/spelbordusers/export') ?>" class="btn btn-primary oc-icon-download">
        <?= e(trans('bld.ddosspelbord::lang.export')) ?>
    </a>

    <?php
            $user = \bld\ddosspelbord\classes\helpers\ddosspelbordUsers::getUser();
            if ($user->hasAccess('bld.ddosspelbord.import_actions')):?>
    <a href="<?= Backend::url('bld/ddosspelbord/spelbordusers/import') ?>" class="btn btn-primary oc-icon-upload">
        <?= e(trans('bld.ddosspelbord::lang.import')) ?>
    </a>
    <?php endif ?>

</div>
